<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Visualizar Cadastros</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="container">
    <h1>Cadastros Realizados</h1>
    <ul id="listaCadastros"></ul>
  </div>

  <!-- Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-database.js"></script>

  <script>
    // Copie aqui seu firebaseConfig do Firebase Console
    const firebaseConfig = {
      apiKey: "SUA_API_KEY",
      authDomain: "SEU_PROJETO.firebaseapp.com",
      databaseURL: "https://SEU_PROJETO.firebaseio.com",
      projectId: "SEU_PROJETO",
      storageBucket: "SEU_PROJETO.appspot.com",
      messagingSenderId: "SEU_SENDER_ID",
      appId: "SEU_APP_ID"
    };

    // Inicializar Firebase
    firebase.initializeApp(firebaseConfig);
    const database = firebase.database();

    // ReferÃªncia para cadastros
    const cadastrosRef = database.ref('cadastros');
    const lista = document.getElementById('listaCadastros');

    // Observar os dados em tempo real
    cadastrosRef.on('value', snapshot => {
      lista.innerHTML = ''; // Limpar lista antes de exibir

      const dados = snapshot.val();
      if (dados) {
        Object.entries(dados).forEach(([chave, info]) => {
          const li = document.createElement('li');
          li.textContent = `${info.nome} ${info.sobrenome} - ${info.estadoCivil}`;
          lista.appendChild(li);
        });
      } else {
        lista.innerHTML = '<li>Nenhum cadastro encontrado.</li>';
      }
    });
  </script>
</body>
</html>
